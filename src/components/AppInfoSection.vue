<template>
  <section class="section">
    <div class="container">
      <AppSectionHeader label="El Evento" title="Una Experiencia Ãšnica" />
      <div class="content-grid">
        <AppCard
          title="Â¿QuiÃ©n organiza este retiro?"
          text="La AsociaciÃ³n Castilla y DragÃ³n, una organizaciÃ³n sin Ã¡nimo de lucro que se dedica a la promociÃ³n y difusiÃ³n de la cultura y la tradiciÃ³n de Castilla y LeÃ³n."
          :icon="LogoAso"
          icon-alt="Logo de la AsociaciÃ³n Castilla y dragÃ³n"
          variant="info"
        />
        <AppCard
          ref="mapCardRef"
          title="Fecha y Lugar"
          variant="featured"
          icon="ðŸ—ºï¸"
          modal-title="Mapa de ubicaciÃ³n"
        >
          <template #text>
            {{ EVENT_DATES_LABEL }} de {{ EVENT_YEAR }}, en Naturcampa, en la localidad de
            <button
              type="button"
              class="text-link"
              @click="openMapModal"
              aria-label="Ver mapa de ubicaciÃ³n de Naturcampa"
            >
              Matapozuelos, Valladolid
            </button>
          </template>
          <template #modal>
            <NaturcampaView />
          </template>
        </AppCard>
        <AppCard
          title="Â¿Para quiÃ©n estÃ¡ pensado?"
          text="Pueden asistir todas las personas interesadas en disfrutar de un ambiente lÃºdico, compartir su aficiÃ³n por los juegos y formar parte de la comunidad que Castilla y DragÃ³n ha construido durante mÃ¡s de una dÃ©cada. No hay lÃ­mite de edad: solo se requiere entusiasmo y ganas de pasarlo bien. Â¡Te esperamos en el Retiro LÃºdico mÃ¡s destacado del aÃ±o"
          icon="ðŸ‘¥"
          variant="info"
        />
      </div>
    </div>
  </section>
</template>

<script setup>
import { ref } from 'vue'
import AppSectionHeader from './AppSectionHeader.vue'
import AppCard from './AppCard.vue'
import NaturcampaView from '@/views/NaturcampaView.vue'
import LogoAso from '@/assets/icons/logoAso.ico'
import { EVENT_DATES_LABEL, EVENT_YEAR } from '@/constants'

const mapCardRef = ref(null)

const openMapModal = () => {
  if (mapCardRef.value) {
    mapCardRef.value.openModal()
  }
}
</script>

<style scoped>
.text-link {
  background: none;
  border: none;
  padding: 0;
  color: inherit;
  text-decoration: underline;
  cursor: pointer;
  font-family: inherit;
  font-size: inherit;
  line-height: inherit;
  transition: opacity 0.2s ease;
}

.text-link:hover {
  opacity: 0.8;
}

.text-link:focus-visible {
  outline: 2px solid currentColor;
  outline-offset: 2px;
}
</style>
